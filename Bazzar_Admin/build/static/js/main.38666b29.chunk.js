(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(20),r=(a(64),a(65),a(12)),s=a(107),o=a(108),i=a(55),l=a(15),j=(a(66),a(112)),d=a(11),u=a(10),b=a.n(u),O=a(5),p=a(13),h="LOGIN_REQUEST",x="LOGIN_FAILURE",f="LOGIN_SUCCESS",m="LOGOUT_REQUEST",g="LOGOUT_FAILURE",v="LOGOUT_SUCCESS",y="USER_REGISTER_REQUEST",S="USER_REGISTER_SUCCESS",E="USER_REGISTER_FAILURE",C="GET_ALL_CATEGORIES_REQUEST",N="GET_ALL_CATEGORIES_SUCCESS",k="GET_ALL_CATEGORIES_FAILURE",_="ADD_NEW_CATEGORIES_REQUEST",T="ADD_NEW_CATEGORIES_SUCCESS",w="ADD_NEW_CATEGORIES_FAILURE",R="UPDATE_CATEGORIES_REQUEST",I="UPDATE_CATEGORIES_FAILURE",A="UPDATE_CATEGORIES_SUCCESS",U="DELETE_CATEGORIES_REQUEST",P="DELETE_CATEGORIES_SUCCESS",D="DELETE_CATEGORIES_FAILURE",L="GET_ALL_PRODUCTS_SUCCESS",F="CREATE_PAGE_REQUEST",G="CREATE_PAGE_SUCCESS",B="CREATE_PAGE_FAILURE",H="GET_CUSTOMER_ORDER_REQUEST",Q="GET_CUSTOMER_ORDER_SUCCESS",z="GET_CUSTOMER_ORDER_FAILURE",M="UPDATE_CUSTOMER_ORDER_REQUEST",W="UPDATE_CUSTOMER_ORDER_SUCCESS",J="UPDATE_CUSTOMER_ORDER_FAILURE",q=a(51),Y=a.n(q),K=a(28),V=a(53),X=a(52),Z={token:null,user:{firstName:"",lastName:"",email:"",picture:""},authenticating:!1,authenticate:!1,loading:!1,error:null,message:""},$={error:null,message:"",loading:!1},ee=a(21),te=a(24),ae={categories:[],loading:!1,error:null},ne=function e(t,a,n){var c=[];if(void 0==t)return[].concat(Object(te.a)(a),[{_id:n._id,name:n.name,slug:n.slug,type:n.type,children:[]}]);var r,s=Object(ee.a)(a);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(o._id==t){var i={_id:n._id,name:n.name,slug:n.slug,parentId:n.parentId,type:n.type,children:[]};c.push(Object(O.a)(Object(O.a)({},o),{},{children:o.children.length>0?[].concat(Object(te.a)(o.children),[i]):[i]}))}else c.push(Object(O.a)(Object(O.a)({},o),{},{children:o.children?e(t,o.children,n):[]}))}}catch(l){s.e(l)}finally{s.f()}return c},ce={products:[]},re={orders:[]},se={error:null,loading:!1,page:{}},oe=Object(K.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case h:e=Object(O.a)(Object(O.a)({},e),{},{authenticating:!0});break;case f:e=Object(O.a)(Object(O.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticate:!0,authenticating:!1});break;case m:e=Object(O.a)(Object(O.a)({},e),{},{loading:!0});break;case v:e=Object(O.a)({},Z);break;case g:e=Object(O.a)(Object(O.a)({},e),{},{error:t.payload.error,loading:!1})}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:e=Object(O.a)(Object(O.a)({},e),{},{loading:!0});break;case S:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1,message:t.payload.message});break;case E:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload.error})}return e},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:e=Object(O.a)(Object(O.a)({},e),{},{categories:t.payload.categories});break;case _:e=Object(O.a)(Object(O.a)({},e),{},{loading:!0});break;case T:var a=ne(t.payload.category.parentId,e.categories,t.payload.category);console.log(a),e=Object(O.a)(Object(O.a)({},e),{},{categories:a,loading:!1});break;case w:e=Object(O.a)({},ae);break;case R:e=Object(O.a)(Object(O.a)({},e),{},{loading:!0});break;case A:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1});break;case I:e=Object(O.a)(Object(O.a)({},e),{},{error:t.payload.error,loading:!1});break;case U:e=Object(O.a)(Object(O.a)({},e),{},{loading:!0});break;case P:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1});break;case k:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload.error})}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:e=Object(O.a)(Object(O.a)({},e),{},{products:t.payload.products})}return e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:e=Object(O.a)(Object(O.a)({},e),{},{orders:t.payload.orders})}return e},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:e=Object(O.a)(Object(O.a)({},e),{},{loading:!0});break;case G:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1});break;case B:e=Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload.error})}return e}}),ie=Object(K.createStore)(oe,Object(X.composeWithDevTools)(Object(K.applyMiddleware)(V.a))),le=window.localStorage.getItem("token"),je=Y.a.create({baseURL:"https://bazzar-backend.herokuapp.com/api",headers:{Authorization:le?"Bearer ".concat(le):""}});je.interceptors.request.use((function(e){var t=ie.getState().auth;return t.token&&(e.headers.Authorization="Bearer ".concat(t.token)),e})),je.interceptors.response.use((function(e){return e}),(function(e){return console.log(e.response),500===(e.response?e.response.data:500)&&(localStorage.clear(),ie.dispatch({type:v})),Promise.reject(e)}));var de=je,ue=a(2),be=function(){var e=Object(d.c)((function(e){return e.auth})),t=Object(d.b)(),a=function(){t(function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m}),e.next=3,de.post("/admin/signout");case 3:200===(a=e.sent).status?(localStorage.clear(),t({type:v})):t({type:g,payload:{error:a.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(ue.jsxs)("div",{className:"header",children:[Object(ue.jsx)("div",{className:"brand",children:Object(ue.jsx)("h2",{children:Object(ue.jsx)(l.c,{to:"/",children:"Admin Dashboard"})})}),Object(ue.jsx)("div",{className:"login",children:e.authenticate?Object(ue.jsx)(j.a,{children:Object(ue.jsx)("li",{className:"nav-item",children:Object(ue.jsx)("span",{className:"Signout",style:{cursor:"pointer"},onClick:function(){a()},children:"signout"})})}):Object(ue.jsxs)(j.a,{children:[Object(ue.jsx)("li",{className:"nav-item",children:Object(ue.jsx)(l.c,{to:"signin",className:"nav-link",children:"Signin"})}),Object(ue.jsx)("li",{className:"nav-item",children:Object(ue.jsx)(l.c,{to:"signup",className:"nav-link",children:"signup"})})]})})]})},Oe=(a(98),function(e){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(be,{}),Object(ue.jsx)(s.a,{fluid:!0,children:Object(ue.jsxs)(o.a,{children:[Object(ue.jsx)(i.a,{md:2,className:"sidebar",children:Object(ue.jsxs)("ul",{children:[Object(ue.jsx)("li",{children:Object(ue.jsx)(l.b,{exact:!0,to:"/",children:"Home"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(l.b,{to:"/page",children:"Page"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(l.c,{to:"/products",children:"Products"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(l.c,{to:"/orders",children:"Orders"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(l.c,{to:"/categories",children:"Categories"})})]})}),Object(ue.jsx)(i.a,{md:10,style:{marginLeft:"auto"},children:e.children})]})})]})});a(99);var pe=function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)(Oe,{})})},he=a(9);a(49);var xe=function(e){return Object(ue.jsxs)("div",{children:[e.label&&Object(ue.jsx)("label",{children:Object(ue.jsx)("h4",{children:e.label})}),Object(ue.jsx)("br",{}),Object(ue.jsx)("input",{type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange}),Object(ue.jsx)("p",{className:"text-muted",children:e.errorMessage})]})},fe=a(113),me=function(e){var t=Object(d.b)(),a=Object(n.useState)(""),c=Object(he.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(""),l=Object(he.a)(i,2),j=l[0],u=l[1];return Object(d.c)((function(e){return e.auth})).authenticate?Object(ue.jsx)(r.a,{to:"/"}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(be,{}),Object(ue.jsx)("div",{className:"signIn",children:Object(ue.jsxs)(fe.a,{onSubmit:function(e){e.preventDefault();var a={email:s,password:j};console.log(typeof s,typeof j),t(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n,c,r,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:h}),t.next=3,de.post("/admin/signin",Object(O.a)({},e));case 3:200===(n=t.sent).status?(c=n.data,r=c.token,s=c.user,localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(s)),a({type:f,payload:{token:r,user:s}})):400===n.status&&a({type:x,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(ue.jsx)(xe,{label:"Email",placeholder:"Email",value:s,type:"email",onChange:function(e){return o(e.target.value)}}),Object(ue.jsx)("p",{children:"We'll never share your email with anyone else."}),Object(ue.jsx)(xe,{label:"Password",placeholder:"Password",value:j,type:"password",onChange:function(e){return u(e.target.value)}}),Object(ue.jsxs)("div",{className:"remember",children:[Object(ue.jsx)("input",{className:"checkbox",type:"checkbox"}),Object(ue.jsx)("p",{children:"Remember me"})]}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)("button",{children:"Submit"})]})})]})};var ge=function(){var e=Object(d.c)((function(e){return e.auth})),t=Object(n.useState)(""),a=Object(he.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),i=Object(he.a)(o,2),l=i[0],j=i[1],u=Object(n.useState)(""),h=Object(he.a)(u,2),x=h[0],f=h[1],m=Object(n.useState)(""),g=Object(he.a)(m,2),v=(g[0],g[1],Object(n.useState)("")),C=Object(he.a)(v,2),N=C[0],k=C[1],_=Object(d.b)(),T=Object(d.c)((function(e){return e.user}));return e.authenticate?Object(ue.jsx)(r.a,{to:"/"}):T.loading?Object(ue.jsx)("p",{children:"loading .....!"}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(be,{}),Object(ue.jsx)("div",{className:"signUp",children:Object(ue.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:y}),t.next=3,de.post("/admin/signup",Object(O.a)({},e));case 3:201===(n=t.sent).status?(c=n.data.message,a({type:S,payload:{message:c}})):400===n.status&&a({type:E,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({firstName:c,lastName:l,email:x,password:N}))},children:[T.message,Object(ue.jsxs)("div",{className:"first-last",children:[Object(ue.jsx)(xe,{label:"First Name",placeholder:"First Name",value:c,type:"text",onChange:function(e){s(e.target.value)}}),Object(ue.jsx)(xe,{label:"Last Name",placeholder:"Last Name",value:l,type:"text",onChange:function(e){j(e.target.value)}})]}),Object(ue.jsx)(xe,{label:"Email",placeholder:"Email",value:x,type:"email",onChange:function(e){f(e.target.value)}}),Object(ue.jsx)(xe,{label:"Password",placeholder:"Password",value:N,type:"password",onChange:function(e){k(e.target.value)}}),Object(ue.jsx)("br",{}),Object(ue.jsx)("button",{children:"Submit"})]})})]})},ve=a(59),ye=function(e){var t=e.component,a=Object(ve.a)(e,["component"]);return Object(ue.jsx)(r.b,Object(O.a)(Object(O.a)({},a),{},{component:function(e){return window.localStorage.getItem("token")?Object(ue.jsx)(t,Object(O.a)({},e)):Object(ue.jsx)(r.a,{to:"/signin"})}}))},Se=a(111),Ee=a(109),Ce=a(110);a(100);var Ne=function(){var e=Object(n.useState)(!1),t=Object(he.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),l=Object(he.a)(r,2),j=l[0],u=l[1],O=Object(n.useState)(""),h=Object(he.a)(O,2),x=h[0],f=h[1],m=Object(n.useState)(""),g=Object(he.a)(m,2),v=g[0],y=g[1],S=Object(n.useState)(null),E=Object(he.a)(S,2),C=E[0],N=E[1],k=Object(n.useState)(""),_=Object(he.a)(k,2),T=_[0],w=_[1],R=Object(n.useState)(""),I=Object(he.a)(R,2),A=I[0],U=I[1],P=Object(n.useState)(""),D=Object(he.a)(P,2),L=D[0],F=D[1],G=Object(d.c)((function(e){return e.category})),B=Object(d.c)((function(e){return e.product})),H=Object(n.useState)(!1),Q=Object(he.a)(H,2),z=Q[0],M=Q[1],W=Object(d.b)(),J=function(){M(!1)},q=function(){var e=new FormData;e.append("name",j),e.append("quantity",x),e.append("price",v),e.append("description",T),e.append("category",A);var t,a=Object(ee.a)(L);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.append("productPicture",n)}}catch(r){a.e(r)}finally{a.f()}W(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de.post("/product/create",e);case 2:n=t.sent,console.log(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),c(!1)},Y=function(){return Object(ue.jsxs)(Ce.a,{style:{fontSize:12},responsive:"sm",children:[Object(ue.jsx)("thead",{children:Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("th",{children:"#"}),Object(ue.jsx)("th",{children:"Name"}),Object(ue.jsx)("th",{children:"Price"}),Object(ue.jsx)("th",{children:"Qunatity"}),Object(ue.jsx)("th",{children:"Categories"})]})}),Object(ue.jsx)("tbody",{children:B.products.length>0?B.products.map((function(e){return Object(ue.jsxs)("tr",{onClick:function(){return function(e){N(e),M(!0)}(e)},children:[Object(ue.jsx)("td",{children:"3"}),Object(ue.jsx)("td",{children:e.name}),Object(ue.jsx)("td",{children:e.price}),Object(ue.jsx)("td",{children:e.quantity}),Object(ue.jsx)("td",{children:e.category.name})]},e._id)})):null})]})};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Oe,{sidebar:!0,children:Object(ue.jsxs)(s.a,{children:[Object(ue.jsx)(o.a,{style:{paddingTop:"70px"},children:Object(ue.jsx)(i.a,{md:12,children:Object(ue.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ue.jsx)("h3",{children:"Products"}),Object(ue.jsx)("button",{onClick:function(){return c(!0)},children:"Add"})]})})}),Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:Object(ue.jsx)(Y,{})})})]})}),Object(ue.jsxs)(Se.a,{show:a,onHide:q,children:[Object(ue.jsx)(Se.a.Header,{closeButton:!0,children:Object(ue.jsx)(Se.a.Title,{children:"Add New Products"})}),Object(ue.jsxs)(Se.a.Body,{children:[Object(ue.jsx)("input",{className:"form-control",label:"Name",value:j,placeholder:"Product Name",onChange:function(e){return u(e.target.value)}}),Object(ue.jsx)("input",{className:"form-control",label:"Quantity",value:x,placeholder:"Quantity",onChange:function(e){return f(e.target.value)}}),Object(ue.jsx)("input",{className:"form-control",label:"Price",value:v,placeholder:"Price",onChange:function(e){return y(e.target.value)}}),Object(ue.jsx)("input",{className:"form-control",label:"Description",value:T,placeholder:"Description",onChange:function(e){return w(e.target.value)}}),Object(ue.jsxs)("select",{className:"form-control",onChange:function(e){return U(e.target.value)},value:A,children:[Object(ue.jsx)("option",{children:"Select category"}),function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(ee.a)(t);try{for(c.s();!(a=c.n()).done;){var r=a.value;n.push({value:r._id,name:r.name}),r.children.length>0&&e(r.children,n)}}catch(s){c.e(s)}finally{c.f()}return n}(G.categories).map((function(e){return Object(ue.jsx)("option",{value:e.value,children:e.name},e.value)}))]}),L.length>0?L.map((function(e,t){return Object(ue.jsx)("div",{children:e.name},t)})):null,Object(ue.jsx)("input",{className:"form-control",type:"file",name:"productPicture",onChange:function(e){F([].concat(Object(te.a)(L),[e.target.files[0]]))}})]}),Object(ue.jsx)(Se.a.Footer,{children:Object(ue.jsx)(Ee.a,{variant:"primary",onClick:q,children:"Save Changes"})})]}),C?Object(ue.jsxs)(Se.a,{show:z,onHide:J,size:"lg",children:[Object(ue.jsx)(Se.a.Header,{closeButton:!0,children:Object(ue.jsx)(Se.a.Title,{children:"Add New Products"})}),Object(ue.jsxs)(Se.a.Body,{children:[Object(ue.jsxs)(o.a,{children:[Object(ue.jsxs)(i.a,{md:"6",children:[Object(ue.jsx)("label",{className:"key",children:"Name"}),Object(ue.jsxs)("p",{className:"value",children:[C.name," "]})]}),Object(ue.jsxs)(i.a,{md:"6",children:[Object(ue.jsx)("label",{className:"key",children:"Price"}),Object(ue.jsxs)("p",{className:"value",children:[C.price," "]})]})]}),Object(ue.jsxs)(o.a,{children:[Object(ue.jsxs)(i.a,{md:"6",children:[Object(ue.jsx)("label",{className:"key",children:"Quantity"}),Object(ue.jsxs)("p",{className:"value",children:[C.quantity," "]})]}),Object(ue.jsxs)(i.a,{md:"6",children:[Object(ue.jsx)("label",{className:"key",children:"Category"}),Object(ue.jsx)("p",{className:"value",children:C.category.name})]})]}),Object(ue.jsx)(o.a,{children:Object(ue.jsxs)(i.a,{md:"12",children:[Object(ue.jsx)("label",{className:"key",children:"Description"}),Object(ue.jsx)("p",{className:"value",children:C.description})]})}),Object(ue.jsx)(o.a,{children:Object(ue.jsxs)(i.a,{children:[Object(ue.jsx)("label",{className:"key",children:"Product Pictures"}),Object(ue.jsx)("div",{style:{display:"flex"},children:C.productPictures.map((function(e){return Object(ue.jsx)("div",{className:"productImgContainer",children:Object(ue.jsx)("img",{src:(t=e.img,"https://bazzar-backend.herokuapp.com/public/".concat(t))})});var t}))})]})})]}),Object(ue.jsx)(Se.a.Footer,{children:Object(ue.jsx)(Ee.a,{variant:"primary",onClick:J,children:"Save Changes"})})]}):null]})};a(101);var ke=function(e){return Object(ue.jsxs)("div",Object(O.a)(Object(O.a)({className:".card"},e),{},{style:e.style,children:[Object(ue.jsxs)("div",{className:"cardHeader",children:[e.headerLeft&&Object(ue.jsx)("div",{style:{alignSelf:"center",fontSize:"20px",fontWeight:"500"},children:e.headerLeft}),e.headerRight&&Object(ue.jsx)("div",{children:e.headerRight})]}),Object(ue.jsx)("div",{className:"children",children:e.children})]}))},_e=(a(102),function(e){var t=Object(d.c)((function(e){return e.order})),a=Object(n.useState)(""),c=Object(he.a)(a,2),r=c[0],s=c[1],o=Object(d.b)(),i=function(e){o(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:M}),t.prev=1,t.next=4,de.post("/order/update",e);case 4:201===(n=t.sent).status?(a({type:W}),a(function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:H}),e.prev=1,e.next=4,de.post("/order/getCustomerOrders");case 4:200===(a=e.sent).status?(n=a.data.orders,t({type:Q,payload:{orders:n}})):(c=a.data.error,t({type:z,payload:{error:c}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())):(c=n.data.error,a({type:J,payload:{error:c}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}({orderId:e,type:r}))},l=function(e){if(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}return""};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Oe,{}),t.orders.map((function(e,t){return Object(ue.jsxs)(ke,{style:{margin:"100px 20px 0px 350px",border:"1px solid black"},headerLeft:e._id,children:[Object(ue.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"50px 50px",alignItems:"center"},children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{className:"title",children:"Items"}),e.items.map((function(e,t){return Object(ue.jsx)("div",{className:"value",children:e.productId.name},t)}))]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("span",{className:"title",children:"Total Price"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{className:"value",children:e.totalAmount})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("span",{className:"title",children:"Payment Type"})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{className:"value",children:e.paymentType})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("span",{className:"title",children:"Payment Status"})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{className:"value",children:e.paymentStatus})]})]}),Object(ue.jsxs)("div",{style:{boxSizing:"border-box",padding:"100px",display:"flex",alignItems:"center"},children:[Object(ue.jsx)("div",{className:"orderTrack",children:e.orderStatus.map((function(e){return Object(ue.jsxs)("div",{className:"orderStatus ".concat(e.isCompleted?"active":""),children:[Object(ue.jsx)("div",{className:"point ".concat(e.isCompleted?"active":"")}),Object(ue.jsxs)("div",{className:"orderInfo",children:[Object(ue.jsx)("div",{className:"status",children:e.type}),Object(ue.jsx)("div",{className:"date",children:l(e.date)})]})]})}))}),Object(ue.jsx)("div",{style:{padding:"0 50px",boxSizing:"border-box"},children:Object(ue.jsxs)("select",{onChange:function(e){return s(e.target.value)},children:[Object(ue.jsx)("option",{value:"",children:"select status"}),e.orderStatus.map((function(e){return Object(ue.jsx)(ue.Fragment,{children:e.isCompleted?null:Object(ue.jsx)("option",{value:e.type,children:e.type},e.type)})}))]})}),Object(ue.jsx)("div",{style:{padding:"0 50px",boxSizing:"border-box"},children:Object(ue.jsx)("button",{onClick:function(){return i(e._id)},children:"confirm"})})]})]},t)}))]})}),Te=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(ee.a)(t);try{for(c.s();!(a=c.n()).done;){var r=a.value;n.push({value:r._id,name:r.name,parentId:r.parentId,type:r.type}),r.children.length>0&&e(r.children,n)}}catch(s){c.e(s)}finally{c.f()}return n},we=function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C}),e.next=3,de.get("category/getcategory");case 3:a=e.sent,console.log(a),200===a.status?(n=a.data.categoryList,t({type:N,payload:{categories:n}})):t({type:k,payload:{error:a.data.error}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Re=function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n,c,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.post("/initialdata");case 2:200===(a=e.sent).status&&(n=a.data,c=n.categories,r=n.products,s=n.orders,t({type:N,payload:{categories:c}}),t({type:L,payload:{products:r}}),t({type:Q,payload:{orders:s}})),console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var Ie=function(){var e=Object(n.useState)(!1),t=Object(he.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(he.a)(r,2),l=s[0],j=s[1],u=Object(d.c)((function(e){return e.category})),O=Object(n.useState)([]),h=Object(he.a)(O,2),x=h[0],f=h[1],m=Object(n.useState)(""),g=Object(he.a)(m,2),v=g[0],y=g[1],S=Object(n.useState)(""),E=Object(he.a)(S,2),C=E[0],N=E[1],k=Object(n.useState)(""),_=Object(he.a)(k,2),T=_[0],w=_[1],R=Object(n.useState)(""),I=Object(he.a)(R,2),A=I[0],U=I[1],P=Object(n.useState)(""),D=Object(he.a)(P,2),L=D[0],H=D[1],Q=Object(d.b)(),z=Object(d.c)((function(e){return e.page})),M=function(e){console.log(e),w([].concat(Object(te.a)(T),[e.target.files[0]]))},W=function(e){console.log(e),U([].concat(Object(te.a)(A),[e.target.files[0]]))};Object(n.useEffect)((function(){f(Te(u.categories))}),[u]),Object(n.useEffect)((function(){z.loading||(c(!1),j(""),y(""),N(""),U([]),w([]))}),[z]);var J=function(e){var t=x.find((function(t){return t.value==e.target.value}));y(e.target.value),H(t.type),console.log(t.type)},q=function(e){var t=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("title",l),a.append("description",C),a.append("category",v),a.append("type",L),T.map((function(e,t){a.append("banners",e)})),A.map((function(e,t){a.append("products",e)})),Q(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:F}),t.prev=1,t.next=4,de.post("/page/create",e);case 4:201===(n=t.sent).status?a({type:G,payload:{page:n.data.page}}):a({type:B,payload:{error:n.data.error}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(a)),console.log(t._id)};return Object(ue.jsxs)(Oe,{children:[Object(ue.jsx)("div",{style:{marginTop:"70px"}}),z.loading?Object(ue.jsx)("p",{children:"Page is being created.... Please wait"}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(Se.a,{show:a,onHide:function(){return c(!1)},children:[Object(ue.jsx)(Se.a.Header,{className:"form-control",closeButton:!0,children:"Create New Page"}),Object(ue.jsxs)(Se.a.Body,{children:[Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:Object(ue.jsx)("input",{className:"form-control form-control-sm",value:l,onChange:function(e){j(e.target.value)},placeholder:"Page Title"})})}),Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:Object(ue.jsxs)("select",{className:"form-control form-control-sm",value:v,onChange:J,children:[Object(ue.jsx)("option",{children:"Select Category"}),x.map((function(e){return Object(ue.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})}),Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:Object(ue.jsx)("input",{value:C,onChange:function(e){return N(e.target.value)},placeholder:"Page Description",className:"form-control form-control-sm"})})}),Object(ue.jsxs)(o.a,{children:[T.length>0?T.map((function(e,t){return Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:e.name})},t)})):null,Object(ue.jsx)(i.a,{children:Object(ue.jsx)("input",{type:"file",name:"banners",onChange:M,className:"form-control form-control-sm"})})]}),Object(ue.jsxs)(o.a,{children:[A.length>0?A.map((function(e,t){return Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:e.name})},t)})):null,Object(ue.jsx)(i.a,{children:Object(ue.jsx)("input",{type:"file",name:"products",onChange:W,className:"form-control form-control-sm"})})]})]}),Object(ue.jsx)(Se.a.Footer,{children:Object(ue.jsx)(Ee.a,{variant:"primary",onClick:q,children:"Yes"})})]}),Object(ue.jsx)(Ee.a,{onClick:function(){c(!0)},children:"Create Page"})]})]})},Ae=a(30),Ue=a(25),Pe=a(58),De=(a(103),a(57)),Le=a.n(De);a(104);var Fe=function(){var e=Object(d.c)((function(e){return e.category})),t=Object(d.b)(),a=Object(n.useState)(!1),c=Object(he.a)(a,2),r=c[0],l=c[1],j=Object(n.useState)(""),u=Object(he.a)(j,2),h=u[0],x=u[1],f=Object(n.useState)(""),m=Object(he.a)(f,2),g=m[0],v=m[1],y=Object(n.useState)(""),S=Object(he.a)(y,2),E=S[0],C=S[1],N=Object(n.useState)([]),k=Object(he.a)(N,2),L=k[0],F=k[1],G=Object(n.useState)([]),B=Object(he.a)(G,2),H=B[0],Q=B[1],z=Object(n.useState)([]),M=Object(he.a)(z,2),W=M[0],J=M[1],q=Object(n.useState)([]),Y=Object(he.a)(q,2),K=Y[0],V=Y[1],X=Object(n.useState)(!1),Z=Object(he.a)(X,2),$=Z[0],te=Z[1],ae=Object(n.useState)(!1),ne=Object(he.a)(ae,2),ce=ne[0],re=ne[1];Object(n.useEffect)((function(){console.log(e),e.loading||l(!1)}),[e]);var se=function(){var e=new FormData;e.append("name",h),e.append("parentId",E),e.append("categoryImage",g),t(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:_}),t.prev=1,t.next=4,de.post("/category/create",e);case 4:n=t.sent,console.log(n),200===n.status?a({type:T,payload:{category:n.data.categories}}):a({type:w,payload:n.data.error}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e)),x(""),C(""),l(!1)},oe=function(){var e=new FormData;console.log({expandedArray:K,checkedArray:W}),K.forEach((function(t,a){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),W.forEach((function(t,a){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),t(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:R}),t.next=3,de.post("/category/update",e);case 3:201===(n=t.sent).status?(a({type:A}),a(we())):(c=n.data.error,a({type:I,payload:{error:c}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),te(!1)},ie=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(ee.a)(t);try{for(c.s();!(a=c.n()).done;){var r=a.value;n.push({value:r._id,name:r.name,parentId:r.parentId,type:r.type}),r.children.length>0&&e(r.children,n)}}catch(s){c.e(s)}finally{c.f()}return n},le=function(e){v(e.target.files[0])},je=function(e,t,a,n){if("checked"==n){var c=W.map((function(n,c){return a==c?Object(O.a)(Object(O.a)({},n),{},Object(Ae.a)({},e,t)):n}));J(c)}else if("expanded"==n){var r=K.map((function(n,c){return a==c?Object(O.a)(Object(O.a)({},n),{},Object(Ae.a)({},e,t)):n}));V(r)}},be=function(){var t=ie(e.categories),a=[],n=[];H.length>0&&H.forEach((function(e,n){var c=t.find((function(t,a){return e==t.value}));c&&a.push(c)})),L.length>0&&L.forEach((function(e,a){var c=t.find((function(t,a){return e==t.value}));c&&n.push(c)})),J(a),V(n)},pe=function(){var e,a=W.map((function(e,t){return{_id:e.value}}));K.map((function(e,t){return{_id:e.value}})).concat(a);a.length>0&&t((e=a,function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:U}),t.next=3,de.post("/category/delete",{payload:{ids:e}});case 3:200===(n=t.sent).status?(a({type:P}),a(we())):a({type:D,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){e&&t(we())})),re(!1)};return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Oe,{sidebar:!0,children:Object(ue.jsxs)(s.a,{className:"category",children:[Object(ue.jsx)(o.a,{style:{paddingTop:"70px"},children:Object(ue.jsx)(i.a,{md:12,children:Object(ue.jsxs)(o.a,{children:[Object(ue.jsx)(i.a,{children:Object(ue.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(ue.jsx)("h3",{children:"Category"})})}),Object(ue.jsxs)(i.a,{children:["Actions :",Object(ue.jsxs)("button",{className:"button",onClick:function(){return l(!0)},children:[Object(ue.jsx)(Ue.a,{})," Add"]}),Object(ue.jsxs)("button",{className:"button",onClick:function(){be(),re(!0)},children:[Object(ue.jsx)(Pe.a,{})," Delete"]}),Object(ue.jsxs)("button",{className:"button",onClick:function(){be(),te(!0)},children:[Object(ue.jsx)(Ue.f,{})," Edit"]})]})]})})}),Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{md:12,children:Object(ue.jsx)(Le.a,{nodes:function e(t){var a,n=[],c=Object(ee.a)(t);try{for(c.s();!(a=c.n()).done;){var r=a.value;n.push({label:r.name,value:r._id,children:r.children.length>0&&e(r.children)})}}catch(s){c.e(s)}finally{c.f()}return n}(e.categories),checked:H,expanded:L,onCheck:function(e){return Q(e)},onExpand:function(e){return F(e)},icons:{check:Object(ue.jsx)(Ue.d,{}),uncheck:Object(ue.jsx)(Ue.e,{}),halfCheck:Object(ue.jsx)(Ue.e,{}),expandClose:Object(ue.jsx)(Ue.c,{}),expandOpen:Object(ue.jsx)(Ue.b,{})}})})})]})}),Object(ue.jsxs)(Se.a,{show:ce,onHide:function(){re(!1)},children:[Object(ue.jsx)(Se.a.Header,{className:"form-control",closeButton:!0,children:"Confirm"}),Object(ue.jsxs)(Se.a.Body,{children:[Object(ue.jsx)("h5",{children:"Expanded"}),K.map((function(e,t){return Object(ue.jsx)("span",{children:e.name},t)})),Object(ue.jsx)("h5",{children:"Checked"}),W.map((function(e,t){return Object(ue.jsx)("span",{children:e.name},t)}))]}),Object(ue.jsxs)(Se.a.Footer,{children:[Object(ue.jsx)(Ee.a,{variant:"primary",onClick:function(){return alert("No")},children:"No"}),Object(ue.jsx)(Ee.a,{variant:"danger",onClick:pe,children:"Yes"})]})]}),Object(ue.jsxs)(Se.a,{show:$,onHide:function(){te(!1)},children:[Object(ue.jsx)(Se.a.Header,{closeButton:!0,children:Object(ue.jsx)(Se.a.Title,{size:"lg",children:"Update Category"})}),Object(ue.jsxs)(Se.a.Body,{children:[Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:Object(ue.jsx)("h6",{children:"Expanded Categories"})})}),K.length>0&&K.map((function(t,a){return Object(ue.jsxs)(o.a,{children:[Object(ue.jsx)(i.a,{children:Object(ue.jsx)("input",{className:"form-control",value:t.name,placeholder:"Category Name",onChange:function(e){return je("name",e.target.value,a,"expanded")}})}),Object(ue.jsx)(i.a,{children:Object(ue.jsxs)("select",{className:"form-control",onChange:function(e){return je("parentId",e.target.value,a,"expanded")},value:t.parentId,children:[Object(ue.jsx)("option",{children:"Select category"}),ie(e.categories).map((function(e){return Object(ue.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}),Object(ue.jsx)(i.a,{children:Object(ue.jsxs)("select",{className:"form-control",value:t.type,onChange:function(e){return je("type",e.target.value,a,"expanded")},children:[Object(ue.jsx)("option",{value:"",children:"Select Type"}),Object(ue.jsx)("option",{value:"Store",children:"Store"}),Object(ue.jsx)("option",{value:"Product",children:"Product"}),Object(ue.jsx)("option",{value:"Page",children:"Page"})]})})]},a)})),Object(ue.jsx)(o.a,{children:Object(ue.jsx)(i.a,{children:Object(ue.jsx)("h6",{children:"Checked Categories "})})}),W.length>0&&W.map((function(t,a){return Object(ue.jsxs)(o.a,{children:[Object(ue.jsx)(i.a,{children:Object(ue.jsx)("input",{className:"form-control",value:t.name,placeholder:"Category Name",onChange:function(e){return je("name",e.target.value,a,"checked")}})}),Object(ue.jsx)(i.a,{children:Object(ue.jsxs)("select",{className:"form-control",onChange:function(e){return je("parentId",e.target.value,a,"checked")},value:t.parentId,children:[Object(ue.jsx)("option",{children:"Select category"}),ie(e.categories).map((function(e){return Object(ue.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}),Object(ue.jsx)(i.a,{children:Object(ue.jsxs)("select",{className:"form-control",value:t.type,onChange:function(e){return je("type",e.target.value,a,"checked")},children:[Object(ue.jsx)("option",{value:"",children:"Select Type"}),Object(ue.jsx)("option",{value:"Store",children:"Store"}),Object(ue.jsx)("option",{value:"Product",children:"Product"}),Object(ue.jsx)("option",{value:"Page",children:"Page"})]})})]},a)}))]}),Object(ue.jsx)(Se.a.Footer,{children:Object(ue.jsx)(Ee.a,{variant:"primary",onClick:oe,children:"Save Changes"})})]}),Object(ue.jsxs)(Se.a,{show:r,onHide:se,children:[Object(ue.jsx)(Se.a.Header,{closeButton:!0,children:Object(ue.jsx)(Se.a.Title,{children:"Add New Categories"})}),Object(ue.jsxs)(Se.a.Body,{children:[Object(ue.jsx)("input",{className:"form-control",value:h,placeholder:"Category Name",onChange:function(e){return x(e.target.value)}}),Object(ue.jsxs)("select",{className:"form-control",onChange:function(e){return C(e.target.value)},value:E,children:[Object(ue.jsx)("option",{children:"Select category"}),ie(e.categories).map((function(e){return Object(ue.jsx)("option",{value:e.value,children:e.name},e.value)}))]}),Object(ue.jsx)("input",{type:"file",name:"categoryImage",onChange:le,className:"form-control"})]}),Object(ue.jsx)(Se.a.Footer,{children:Object(ue.jsx)(Ee.a,{variant:"primary",onClick:se,children:"Save Changes"})})]})]})};var Ge=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){t.authenticate||e(function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("token"))?(n=JSON.parse(localStorage.getItem("user")),t({type:f,payload:{token:a,user:n}})):t({type:x,payload:{error:"failed to logged in"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.authenticate&&(e(Re()),console.log(e(Re())))}),[t.authenticate]),Object(ue.jsx)("div",{className:"App",children:Object(ue.jsxs)(r.d,{children:[Object(ue.jsx)(ye,{path:"/",exact:!0,component:pe}),Object(ue.jsx)(ye,{path:"/products",component:Ne}),Object(ue.jsx)(ye,{path:"/page",component:Ie}),Object(ue.jsx)(ye,{path:"/orders",component:_e}),Object(ue.jsx)(ye,{path:"/categories",component:Fe}),Object(ue.jsx)(r.b,{path:"/signin",component:me}),Object(ue.jsx)(r.b,{path:"/signup",component:ge})]})})},Be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,114)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};window.store=ie,Object(c.render)(Object(ue.jsx)(d.a,{store:ie,children:Object(ue.jsx)(l.a,{children:Object(ue.jsx)(Ge,{})})}),document.getElementById("root")),Be()},49:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.38666b29.chunk.js.map